@startuml
' ------------------------
' Abstract Classes
' ------------------------
abstract class Product {
    - int id
    - String name
    - String description
    - int year
    - int quantity
    - double price
    + getId()
    + getName()
    + getDescription()
    + getYear()
    + getQuantity()
    + getPrice()
    + increaseQuantity(int)
    + decreaseQuantity(int)
    + isAvailable()
    + toString()
}

abstract class Game {
    - GameGenre genre
    - GamePlatform platform
    + getGenre()
    + getPlatform()
}

abstract class Hardware {
    + buy() throws PaymentException
}

' ------------------------
' Interfaces
' ------------------------
interface Buyable {
    + buy() throws PaymentException
}

interface Rentable {
    + rent(int days) throws InsufficientQuantityException, PaymentException
}

interface PaymentMethod {
    + pay(double amount) throws PaymentException
}

' ------------------------
' Enums
' ------------------------
enum GameGenre{
ACTION, ADVENTURE, RPG, STRATEGY, RACING
}
enum GamePlatform{
PC, PlayStation, Xbox, Nintendo64
}
enum ConsoleBrand{
SONY, MICROSOFT, NINTENDO, VALVE
}
enum DesktopBrand{
DELL, HP, LENOVO, ASUS, ACER, CUSTOM
}
enum LaptopBrand{
DELL, HP, LENOVO, ASUS, ACER, APPLE
}

' ------------------------
' Exceptions
' ------------------------
class CustomException
class FileProcessingException
class InsufficientQuantityException
class ItemNotFoundException
class PaymentException

' ------------------------
' Concrete Classes
' ------------------------
class DigitalGame
class PhysicalGame
class Console
class Desktop
class Laptop
class Customer
class Transaction
class Store
class Main

class CardPayment
class CashPayment
class PaymentProcessor

' ------------------------
' Inheritance / Implementation
' ------------------------
Product <|-- Game
Product <|-- Hardware

Game <|-- DigitalGame
Game <|-- PhysicalGame
Hardware <|-- Console
Hardware <|-- Desktop
Hardware <|-- Laptop

Hardware ..|> Buyable
PhysicalGame ..|> Rentable
CardPayment ..|> PaymentMethod
CashPayment ..|> PaymentMethod

' ------------------------
' Dependencies / Uses
' ------------------------
Store --> Product : manages
Store --> Customer : manages
Store --> Transaction : records
Store --> PaymentProcessor : uses
Store --> PaymentException : throws
Store --> ItemNotFoundException : throws
Store --> FileProcessingException : throws
Store --> InsufficientQuantityException : throws

Customer --> InvalidEmailException : throws
Transaction --> Product
Transaction --> Customer

DigitalGame --> GameGenre
DigitalGame --> GamePlatform
PhysicalGame --> GameGenre
PhysicalGame --> GamePlatform
Console --> ConsoleBrand
Desktop --> DesktopBrand
Laptop --> LaptopBrand

CardPayment --> PaymentException : throws
CashPayment --> PaymentException : throws
PaymentProcessor --> PaymentMethod
PaymentProcessor --> PaymentException : throws

Main --> Store : uses

CustomException <|-- FileProcessingException
CustomException <|-- InsufficientQuantityException
CustomException <|-- ItemNotFoundException
CustomException <|-- PaymentException
CustomException <|-- InvalidEmailException

@enduml
